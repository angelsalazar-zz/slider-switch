<script>
    /* Custom behavior  */
    HighlightBehavior = {
      //Properties
      /*
       up:Boolean - Change slider's orientation
       points:String -   svg figure
       visibility:String - Manage whenever the value should be shown
       hover:Boolean - Shows when slider-switch is hovered
      */
        properties: {
            up:{
                type: Boolean,
                observer: '_upChanged'
            },
            points: {
                type: String,
                value: "1,1 9,1 5,9"
            },
            visibility :{
              type: String,
              value: "none"
            },
            hover:{
              type:Boolean,
              value:false,
              reflectToAttribute: true,
              notify:true
            },
            index:{
              type:Number,
              value:0
            }
        },
        /*
        listeners
        mousedown: _handleSelected,
        mouseenter: '_addHighlight',
        mouseleave: '_removeHighlight'
        */
        listeners: {
            mousedown: '_handleSelected',
            mouseenter: '_addHighlight',
            mouseleave: '_removeHighlight'
        },
        /**
        * _handleSelected, Manage the selection functionality
        * @param {event} e
        */
        _handleSelected:function(e){
              if(this.isSelected){
                  if(e.ctrlKey){
                      this.isSelected = false;
                      this.visibility = "none";
                  }
              }else{
                  if(!e.ctrlKey){
                      var _children = Polymer.dom(Polymer.dom(this).parentNode).querySelectorAll("slider-switch");
                      for (var i = 0; i < _children.length; i++) {
                          if( _children[i].isSelected === true){
                              _children[i].isSelected = false;
                          }
                    }
                  }
                  this.isSelected = true;
                  this.visibility = "block";
              }
        },
        /**
        * _upChanged, Manage the slider-switch's orientation
        * @param {event} e
        */
        _upChanged:function(isUp){
            if(isUp)
                this.points = "1,9 9,9 5,1";
        },
        /**
        * _addHighlight, set true the hover property when the mouse is over the slider-switch
        * @param {event} e
        */
        _addHighlight:function(e){
          this.hover = true;
        },
        /**
        * _removeHighlight, set false the hover property when the mouse isn't over the slider-switch
        * @param {event} e
        */
        _removeHighlight:function(e){
          this.hover = false;
        }
    };
</script>
